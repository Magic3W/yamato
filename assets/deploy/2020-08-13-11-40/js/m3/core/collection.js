depend("m3/core/collection",function(){var d=function(a){a instanceof NodeList&&(a=Array.prototype.slice.call(a,0));this.elements=a};d.prototype={each:function(a){var c=this.elements instanceof Array?[]:{};if(!this.elements instanceof Array)for(var b in this.elements)this.elements.hasOwnProperty(b)&&(c[b]=a(this.elements[b],b));else for(b=0;b<this.elements.length;b++)c[b]=a(this.elements[b],b);return new d(c)},filter:function(a){var c=new d([]);this.each(function(b){a(b)&&c.push(b)});return c},merge:function(a){var c=
this;a instanceof d||(a=new d(a));a.each(function(b,e){c.elements instanceof Array?c.elements.push(b):c.elements[e]=b});return this},reduce:function(a){return this.elements.reduce(a)},push:function(a){this.elements.push(a)},pop:function(){return this.elements.pop()},set:function(a,c){this.elements[a]=c},get:function(a){return this.elements[a]},raw:function(){return this.elements},length:function(){if(this.elements instanceof Array)return this.elements.length;var a=0;this.each(function(){a++});return a}};
return function(a){return new d(a)}});
